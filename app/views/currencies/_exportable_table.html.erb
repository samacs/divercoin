<%= turbo_stream_from :exportable_currencies %>

<section class="flex items-center bg-stone-50 dark:bg-stone-900">
    <div class="w-full max-w-screen-xl px-4 mx-auto py-8">
        <div class="overflow-hidden bg-white shadow-md dark:bg-stone-800 sm:rounded-lg">
            <div class="flex flex-col md:flex-row items-stretch md:items-center md:space-x-3 space-y-3 md:space-y-0 justify-end mx-4 py-4 border-t dark:border-stone-700">
                <div class="w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0">
                    <div class="flex items-center space-x-3 w-full md:w-auto">
                        <button id="actionsDropdownButton" data-dropdown-toggle="actionsDropdown" class="w-full md:w-auto flex items-center justify-center py-2 px-4 text-sm font-medium text-stone-900 focus:outline-none bg-white rounded-lg border border-stone-200 hover:bg-stone-100 hover:text-primary-700 focus:z-10 focus:ring-4 focus:ring-stone-200 dark:focus:ring-stone-700 dark:bg-stone-800 dark:text-stone-400 dark:border-stone-600 dark:hover:text-white dark:hover:bg-stone-700" type="button">
                            Export
                            <%= icon('chevron-down', class: '-mr-1 ml-1.5 w-3 h-3 fill-current') %>
                        </button>
                        <div id="actionsDropdown" class="hidden z-10 w-44 bg-white rounded divide-y divide-stone-100 shadow dark:bg-stone-700 dark:divide-stone-600">
                            <ul class="py-1 text-sm text-stone-700 dark:text-stone-200" aria-labelledby="actionsDropdownButton">                                
                                <li>
                                    <%= link_to 'CSV', export_currencies_path(format: 'csv'), target: '_blank', class: 'block py-2 px-4 hover:bg-stone-100 dark:hover:bg-stone-600 dark:hover:text-white' %>
                                </li>
                                <li>
                                    <%= link_to 'JSON', export_currencies_path(format: 'json'), target: '_blank', class: 'block py-2 px-4 hover:bg-stone-100 dark:hover:bg-stone-600 dark:hover:text-white' %>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-stone-500 dark:text-stone-400">
                    <thead class="text-xs text-stone-700 uppercase bg-stone-50 dark:bg-stone-700 dark:text-stone-400">
                        <tr>
                            <th scope="col" class="px-4 py-4">Name</th>
                            <th scope="col" class="px-4 py-4 text-center">Ticker</th>
                            <th scope="col" class="px-4 py-4">Price</th>
                            <th scope="col" class="px-4 py-4">Last updated</th>
                        </tr>
                    </thead>
                    <tbody id="exportable_currencies">
                        <%= render partial: 'currencies/exportable_row', collection: currencies, as: :currency, locals: { highlighted: false } %>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>
